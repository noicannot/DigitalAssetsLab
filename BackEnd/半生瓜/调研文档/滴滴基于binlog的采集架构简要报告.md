# **简要报告**

#### 一、概述

大数据是这个时代赋予我们的强大引擎，在数字化大潮中 ，借助数据驱动的方法推动业务乘风破浪，几乎是每家公司的核心战略。数据驱动的落脚点是数据，能否将组织或业务运行过程中的信息，进行有效收集并组织成信息流，是数据驱动的基石所在。随着滴滴业务的高速发展，业务对于数据时效性的需求越来越高，而伴随着实时技术的不断发展和成熟，滴滴也对实时建设做了大量的尝试和实践。

 

#### 二、整体数据流程图

![img](http://47.101.69.157:8111/s/SMZ93wyRgpMyRyj/preview) 

#### 三、解决的问题和优势

问题:

1、直连MySQL查询，对于数据库压力较大（如订单表、支付表等），可能直接影响在线业务

2、数据整体就位时间（尤其大表）不满足下游生产需求

3、扩展性较差，对于分表、字段增减、变更等的支持较弱

4、拉取的数据是该时刻的镜像，无法获取中间变化情况

为了解决这些问题，滴滴引入了Binlog实时采集+离线还原。

#### 实施流程：

1、数据收集部分使用定制化的Canal收集binlog日志并转换

2、通过消息队列传输落地到HDFS

3、对HDFS上的binlog日志进行清洗并写入Hvie数据库

4、如果是增量接入，上述操作就完成了一次入库，还需要对全量接入或历史回溯的数据，进行离线的一次性拉取。

##### 优势：

5、基于Binlog日志的数据还原，与在线业务解耦

6、采用分布式队列实时传递，还原操作在集群上实现，及时性和可扩展性强

7、Binlog日志包括了增、删、改等明细动作，支持定制化的ETL

#### 四、总结

使用canal实现了读写分离，在大数据的情况下，优势会更加明显，数据同步量，实时层面毫秒级别延迟，实现了及时、准确、定制化的同步需求。